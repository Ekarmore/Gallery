---
import Tab from '@components/tab.astro'
---
<div class="maskTab w-screen p-4">
  <div class="tab opacity-0 transition-opacity ease">
    <Tab/>
  </div>
  </div>

<script>
const tab = document.querySelector('.tab')!
function checkIfAtBottom() {
  const scrollPosition = window.innerHeight + window.pageYOffset
  const pageHeight = document.documentElement.scrollHeight
  Math.ceil(scrollPosition) < pageHeight
    ? (() => {
        tab.classList.remove('opacity-100')
        tab.classList.add('opacity-0')
      })()
    : (() => {
        tab.classList.remove('opacity-0')
        tab.classList.add('opacity-100')
      })()
}
window!.onload = () => {
  checkIfAtBottom()
}
window.addEventListener('scroll', () => {
  checkIfAtBottom()
})

window.addEventListener('resize', () => {
  checkIfAtBottom()
})
</script>

  <style>
  .maskTab::before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 80px;
    -webkit-mask-image: linear-gradient(transparent,black);
    mask-image: linear-gradient(to bottom, transparent,black);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  </style>
